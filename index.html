<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tokyo Family Trip 2026</title>
    <meta
      name="description"
      content="2026년 6월 도쿄 4박 5일 가족 여행 일정, 예산, 예약 체크리스트"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="grain"></div>

    <header class="hero section reveal">
      <p class="eyebrow">TOKYO FAMILY TRIP • JUNE 2026</p>
      <h1>Tokyo Scoll 🗾</h1>
      <div class="hero-meta">
        <span>2026.06.06 — 2026.06.10</span>
        <span>2명 기준 총예산 2,000,000원</span>
      </div>
      <div class="hero-names">
        <span>진유</span>
        <span>은경</span>
        <span>휘찬</span>
        <span>미유</span>
      </div>
    </header>

    <main>
      <section class="section reveal">
        <div class="section-head">
          <p class="eyebrow">Itinerary</p>
        </div>

        <div class="day-tabs" role="tablist" aria-label="여행 일정">
          <button class="day-tab active" data-tab="day1" role="tab" aria-selected="true">Day 1</button>
          <button class="day-tab" data-tab="day2" role="tab" aria-selected="false">Day 2</button>
          <button class="day-tab" data-tab="day3" role="tab" aria-selected="false">Day 3</button>
          <button class="day-tab" data-tab="day4" role="tab" aria-selected="false">Day 4</button>
          <button class="day-tab" data-tab="day5" role="tab" aria-selected="false">Day 5</button>
        </div>

        <article class="tab-panel active" id="day1" role="tabpanel">
          <p class="panel-day-title">2026 년 6 월 6 일 (土)<br /><span class="day-tagline">도쿄 도착, 함께하는 저녁</span><span class="day-subline">나리타 공항 · 숙소 체크인 · 휘찬미유와 저녁</span></p>
          <div class="day-subtabs" role="tablist" aria-label="Day 1 상세/경비">
            <button class="day-subtab active" data-subtab="plan" role="tab" aria-selected="true">상세 일정</button>
            <button class="day-subtab" data-subtab="cost" role="tab" aria-selected="false">1인 예상 경비</button>
          </div>
          <div class="day-subpanel active" data-subpanel="plan">

          <section class="plan-block">
            <h3>13:00 | 나리타 공항 출발 → 오사키역 이동</h3>
            <p>교통 : 윌러 익스프레스 (Willer Express) 리무진 버스</p>
            <p>내용 : 입국 수속 후 예약한 버스 탑승</p>
            <p>하차 : 오사키역 서쪽 출구 버스 터미널 (숙소와 연결됨)</p>
            <div class="spot-list">
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Narita+Airport" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/narita-airport/180/110" alt="나리타 공항" />
                <span>나리타 공항</span>
              </a>
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Osaki+Station+Tokyo" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/osaki-station/180/110" alt="오사키역" />
                <span>오사키역</span>
              </a>
            </div>
          </section>

          <section class="plan-block">
            <h3>14:30 | 호텔 체크인 (뉴 오타니 인 도쿄)</h3>
            <p>내용 : 호텔에 짐을 풀고 잠시 휴식</p>
            <div class="spot-list">
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=New+Otani+Inn+Tokyo" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/new-otani-inn/180/110" alt="뉴 오타니 인 도쿄" />
                <span>뉴 오타니 인 도쿄</span>
              </a>
            </div>
          </section>

          <section class="plan-block">
            <h3>17:00 | 동생 상봉 (무사시코야마 이동)</h3>
            <p>경로 : 오사키역 → 무사시코야마역</p>
            <p>상세 이동 방법 (전철) :</p>
            <ul>
              <li>JR 오사키역에서 JR 야마노테선(시부야/신주쿠 방면) 탑승 (1정거장, 3분)</li>
              <li>메구로역 하차, 개찰구 밖으로 나가지 않고 도큐 메구로선 환승</li>
              <li>도큐 메구로선(히요시/신요코하마 방면) 탑승 (2정거장, 4분)</li>
              <li>무사시코야마역 하차</li>
            </ul>
            <p>총 소요 시간 : 약 15~20분</p>
            <p>교통비 : 약 280엔 (JR 150엔 + 도큐 130엔)</p>
            <p>내용 : 동생과 저녁 식사 및 팜(Palm) 상점가 구경</p>
            <div class="spot-list">
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Meguro+Station+Tokyo" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/meguro-station/180/110" alt="메구로역" />
                <span>메구로역</span>
              </a>
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Musashi-koyama+Tokyo" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/musashi-koyama/180/110" alt="무사시코야마" />
                <span>무사시코야마</span>
              </a>
            </div>
          </section>
          </div>
          <div class="day-subpanel" data-subpanel="cost">
            <section class="plan-block cost-panel">
              <h3>[1 일차 1인 예상 경비 : 약 5,000엔]</h3>
              <p>교통비 + 저녁 식사 및 간식 포함</p>
            </section>
          </div>
        </article>

        <article class="tab-panel" id="day2" role="tabpanel">
          <p class="panel-day-title">2026 년 6 월 7 일 (日)<br /><span class="day-tagline">빈티지 그릇과 소품 산책</span><span class="day-subline">오에도 골동품 시장 · 유라쿠초 · 지유가오카 편집샵 투어</span></p>
          <div class="day-subtabs" role="tablist" aria-label="Day 2 상세/경비">
            <button class="day-subtab active" data-subtab="plan" role="tab" aria-selected="true">상세 일정</button>
            <button class="day-subtab" data-subtab="cost" role="tab" aria-selected="false">1인 예상 경비</button>
          </div>
          <div class="day-subpanel active" data-subpanel="plan">

          <section class="plan-block">
            <h3>09:00 | 오에도 골동품 시장 (유라쿠초)</h3>
            <p>경로 : 오사키역 → 유라쿠초역</p>
            <ul>
              <li>JR 오사키역에서 JR 야마노테선(도쿄/우에노 방면) 탑승</li>
              <li>JR 유라쿠초역 하차 (13분)</li>
              <li>국제포럼구(International Forum Exit) 출구로 이동</li>
              <li>횡단보도 건너 도쿄 국제 포럼 광장 도착</li>
            </ul>
            <p>교통비 : 210엔</p>
            <p>내용 : 골동품 그릇 구경 (현금 준비 필수)</p>
            <div class="spot-list">
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Yurakucho+Station" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/yurakucho-station/180/110" alt="유라쿠초역" />
                <span>유라쿠초역</span>
              </a>
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Oedo+Antique+Market+Tokyo" target="_blank" rel="noopener noreferrer">
                <img src="https://milotravel.com/wp-content/uploads/2025/09/IMG_3737.jpg" alt="오에도 골동품 시장" data-fixed="true" />
                <span>오에도 골동품 시장</span>
              </a>
            </div>
          </section>

          <section class="plan-block">
            <h3>12:00 | 지유가오카 이동 & 점심</h3>
            <p>경로 : 유라쿠초역 → 오이마치역(환승) → 지유가오카역</p>
            <ul>
              <li>JR 유라쿠초역에서 JR 케이힌토호쿠선(요코하마/오후나 방면) 탑승</li>
              <li>오이마치역 하차 (12분), 도큐 오이마치선 환승 게이트 이동</li>
              <li>도큐 오이마치선(미조노쿠치 방면) 탑승</li>
              <li>지유가오카역 하차 (급행 10분 / 각역 15분)</li>
            </ul>
            <p>출구 : 정면구(Main Exit)</p>
            <p>총 소요 시간 : 약 35분</p>
            <p>교통비 : 380엔 (JR 180엔 + 도큐 200엔)</p>
            <p>내용 : 역 근처 브런치 또는 파스타 점심 식사</p>
            <div class="spot-list">
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Oimachi+Station" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/oimachi-station/180/110" alt="오이마치역" />
                <span>오이마치역</span>
              </a>
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Jiyugaoka+Station" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/jiyugaoka-station/180/110" alt="지유가오카역" />
                <span>지유가오카역</span>
              </a>
            </div>
          </section>

          <section class="plan-block">
            <h3>13:30 | 지유가오카 소품샵 투어</h3>
            <p>도보 코스 : 정면구에서 도보 5~10분 내외</p>
            <p>Today's Special, Watashi no Heya, IDÉE SHOP 구경</p>
            <p>고소안(Kosoan) 찻집에서 휴식</p>
            <div class="spot-list">
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Jiyugaoka+Tokyo+shops" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/jiyugaoka-shops/180/110" alt="지유가오카 상점가" />
                <span>지유가오카 상점가</span>
              </a>
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Kosoan+Jiyugaoka" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/kosoan/180/110" alt="고소안 찻집" />
                <span>고소안 찻집</span>
              </a>
            </div>
          </section>

          <section class="plan-block">
            <h3>17:30 | 숙소 복귀</h3>
            <p>경로 : 지유가오카 → 오이마치 → 오사키</p>
            <p>교통비 : 350엔</p>
            <p>내용 : 숙소 근처 라이프(Life) 마트나 오사키역 내 식당에서 저녁 해결</p>
          </section>
          </div>
          <div class="day-subpanel" data-subpanel="cost">
            <section class="plan-block cost-panel">
              <h3>[2 일차 1인 예상 경비 : 약 7,500엔]</h3>
              <p>교통비 1,000엔 + 점심 2,000엔 + 카페 1,500엔 + 저녁 3,000엔</p>
            </section>
          </div>
        </article>

        <article class="tab-panel" id="day3" role="tabpanel">
          <p class="panel-day-title">2026 년 6 월 8 일 (月)<br /><span class="day-tagline">도심 속 숲과 강, 그리고 야경</span><span class="day-subline">메이지 신궁 · 오모테산도 · 나카메구로 · 시부야 스카이</span></p>
          <div class="day-subtabs" role="tablist" aria-label="Day 3 상세/경비">
            <button class="day-subtab active" data-subtab="plan" role="tab" aria-selected="true">상세 일정</button>
            <button class="day-subtab" data-subtab="cost" role="tab" aria-selected="false">1인 예상 경비</button>
          </div>
          <div class="day-subpanel active" data-subpanel="plan">

          <section class="plan-block">
            <h3>10:00 | 메이지 신궁 산책</h3>
            <p>경로 : 오사키역 → 하라주쿠역</p>
            <ul>
              <li>JR 오사키역에서 JR 야마노테선(시부야/신주쿠 방면) 탑승</li>
              <li>JR 하라주쿠역 하차 (9분)</li>
              <li>서쪽 출구(West Exit)로 나오면 신궁 입구 앞</li>
            </ul>
            <p>교통비 : 180엔</p>
            <p>내용 : 숲길 산책 (입장료 무료)</p>
            <div class="spot-list">
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Harajuku+Station" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/harajuku-color-01/180/110" alt="하라주쿠역" />
                <span>하라주쿠역</span>
              </a>
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Meiji+Jingu" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/meiji-jingu-color-01/180/110" alt="메이지 신궁" />
                <span>메이지 신궁</span>
              </a>
            </div>
          </section>

          <section class="plan-block">
            <h3>12:00 | 오모테산도 이동 및 점심</h3>
            <p>이동 : 메이지 신궁 입구에서 등지고 왼쪽 큰길 따라 도보 10분 직진</p>
            <p>내용 : 오모테산도 힐즈 및 명품 거리 건축물 구경 후 점심 식사</p>
            <div class="spot-list">
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Omotesando+Hills" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/omotesando-color-01/180/110" alt="오모테산도 힐즈" />
                <span>오모테산도 힐즈</span>
              </a>
            </div>
          </section>

          <section class="plan-block">
            <h3>14:30 | 나카메구로 이동 (지하철 이용)</h3>
            <p>경로 : 오모테산도역 → 나카메구로역</p>
            <ul>
              <li>오모테산도역 지하철 입구(A4/A5 부근) 진입</li>
              <li>긴자선(주황) 또는 한조몬선(보라) 시부야 방면 1정거장</li>
              <li>시부야역에서 개찰구 나가지 않고 도큐 도요코선 환승</li>
              <li>도큐 도요코선(요코하마 방면) 탑승 후 나카메구로역 하차 (2정거장, 4분)</li>
              <li>정면 개찰구 나와 횡단보도 건너면 츠타야 서점</li>
            </ul>
            <p>총 소요 시간 : 약 20분</p>
            <p>교통비 : 230엔 (메트로 + 도큐 연계 할인 적용 시)</p>
            <p>내용 : 메구로 강변 산책, 스타벅스 리저브 로스터리 또는 츠타야 서점 카페 휴식</p>
            <div class="spot-list">
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Nakameguro+Station" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/nakameguro-color-01/180/110" alt="나카메구로역" />
                <span>나카메구로역</span>
              </a>
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Starbucks+Reserve+Roastery+Tokyo" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/roastery-color-01/180/110" alt="스타벅스 리저브 로스터리" />
                <span>로스터리 도쿄</span>
              </a>
            </div>
          </section>

          <section class="plan-block">
            <h3>17:30 | 시부야 스크램블 교차로</h3>
            <p>경로 : 나카메구로역 → 시부야역 (도큐 도요코선 시부야 방면, 4분)</p>
            <p>- 스크램블 스퀘어 방면 개찰구 또는 하치코 개찰구 통해서 나가기</p>
            <p>교통비 : 140엔</p>
            <p>내용 : 스크램블 교차로 구경 후, 시부야 스크램블 스퀘어 14층에서 전망대 입장</p>
            <div class="spot-list">
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Shibuya+Scramble+Crossing" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/shibuya-scramble-color-01/180/110" alt="시부야 스크램블 교차로" />
                <span>시부야 스크램블</span>
              </a>
            </div>
          </section>

          <section class="plan-block">
            <h3>18:30 | 시부야 스카이 전망대</h3>
            <p>위치 : 시부야 스크램블 스퀘어 빌딩 14층 (전용 엘리베이터 탑승)</p>
            <p>내용 : 18:00~18:30 예약 티켓 기준 야경 관람, 저녁은 12~13층 식당가 이용</p>
            <p>숙소 복귀 : JR 시부야역 야마노테선 탑승 → 오사키역 하차 (5분, 170엔)</p>
            <div class="spot-list">
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Shibuya+Sky" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/shibuya-sky-color-01/180/110" alt="시부야 스카이" />
                <span>시부야 스카이</span>
              </a>
            </div>
          </section>
          </div>
          <div class="day-subpanel" data-subpanel="cost">
            <section class="plan-block cost-panel">
              <h3>[3 일차 1인 예상 경비 : 약 7,000엔]</h3>
              <p>교통비 750엔 + 점심 2,500엔 + 카페 1,000엔 + 저녁 2,800엔</p>
            </section>
          </div>
        </article>

        <article class="tab-panel" id="day4" role="tabpanel">
          <p class="panel-day-title">2026 년 6 월 9 일 (火)<br /><span class="day-tagline">클래식 도쿄 : 역사와 전통</span><span class="day-subline">도쿄 국립박물관 · 아메요코 시장 · 조조지 & 도쿄타워</span></p>
          <div class="day-subtabs" role="tablist" aria-label="Day 4 상세/경비">
            <button class="day-subtab active" data-subtab="plan" role="tab" aria-selected="true">상세 일정</button>
            <button class="day-subtab" data-subtab="cost" role="tab" aria-selected="false">1인 예상 경비</button>
          </div>
          <div class="day-subpanel active" data-subpanel="plan">

          <section class="plan-block">
            <h3>10:00 | 도쿄 국립박물관 (우에노)</h3>
            <p>경로 : 오사키역 → 우에노역</p>
            <ul>
              <li>JR 오사키역에서 JR 야마노테선(도쿄/우에노 방면) 탑승</li>
              <li>JR 우에노역 하차 (26분)</li>
              <li>공원 개찰구(Park Gate) 출구 이용 (박물관과 가장 가까움)</li>
            </ul>
            <p>교통비 : 210엔</p>
            <p>내용 : 본관(일본 갤러리) 위주 역사 유물 관람</p>
            <div class="spot-list">
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Ueno+Station" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/ueno-station/180/110" alt="우에노역" />
                <span>우에노역</span>
              </a>
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Tokyo+National+Museum" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/tokyo-national-museum/180/110" alt="도쿄 국립박물관" />
                <span>도쿄 국립박물관</span>
              </a>
            </div>
          </section>

          <section class="plan-block">
            <h3>12:30 | 아메요코 시장 & 점심</h3>
            <p>이동 : 박물관 정문 → 우에노역 건물 → 히로코지 출구(Hirokoji Exit) 방향 도보 10분</p>
            <p>내용 : 시장 구경 및 스시 점심 식사 (미우라 미사키 코우 등)</p>
            <div class="spot-list">
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Ameyoko+Market" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/ameyoko-market/180/110" alt="아메요코 시장" />
                <span>아메요코 시장</span>
              </a>
            </div>
          </section>

          <section class="plan-block">
            <h3>15:00 | 조조지 & 도쿄타워 뷰</h3>
            <p>경로 : 우에노역 → 하마마츠초역</p>
            <ul>
              <li>JR 우에노역에서 JR 야마노테선(도쿄/시나가와 방면) 탑승</li>
              <li>JR 하마마츠초역 하차 (14분)</li>
              <li>북쪽 출구(North Exit)로 나와 조조지 방면 표지판 따라 도보 10분</li>
            </ul>
            <p>교통비 : 180엔</p>
            <p>내용 : 절 경내에서 도쿄타워 배경 사진 촬영</p>
            <div class="spot-list">
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Hamamatsucho+Station" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/hamamatsucho-station/180/110" alt="하마마츠초역" />
                <span>하마마츠초역</span>
              </a>
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Zojoji+Temple+Tokyo+Tower" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/zojoji-tokyo-tower/180/110" alt="조조지 도쿄타워" />
                <span>조조지 · 도쿄타워</span>
              </a>
            </div>
          </section>

          <section class="plan-block">
            <h3>17:00 | 숙소 복귀 및 짐 정리</h3>
            <p>경로 : 하마마츠초역 → 오사키역 (11분)</p>
            <p>교통비 : 180엔</p>
            <p>내용 : 숙소 근처 마트 쇼핑 및 짐 정리</p>
          </section>
          </div>
          <div class="day-subpanel" data-subpanel="cost">
            <section class="plan-block cost-panel">
              <h3>[4 일차 1인 예상 경비 : 약 7,000엔]</h3>
              <p>교통비 600엔 + 박물관 1,000엔 + 점심 2,500엔 + 저녁 3,000엔</p>
            </section>
          </div>
        </article>

        <article class="tab-panel" id="day5" role="tabpanel">
          <p class="panel-day-title">2026 년 6 월 10 일 (水)<br /><span class="day-tagline">여행 마무리</span><span class="day-subline">체크아웃 · 공항 이동 · 귀국</span></p>
          <div class="day-subtabs" role="tablist" aria-label="Day 5 상세/경비">
            <button class="day-subtab active" data-subtab="plan" role="tab" aria-selected="true">상세 일정</button>
            <button class="day-subtab" data-subtab="cost" role="tab" aria-selected="false">1인 예상 경비</button>
          </div>
          <div class="day-subpanel active" data-subpanel="plan">

          <section class="plan-block">
            <h3>10:00 | 체크아웃 및 공항버스 탑승</h3>
            <p>장소 : 오사키역 서쪽 출구 버스 터미널 (호텔 로비에서 도보 5분 이내)</p>
            <p>교통 : 윌러 익스프레스 공항 버스</p>
            <div class="spot-list">
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Osaki+Station+West+Exit+Bus+Terminal" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/osaki-bus-terminal/180/110" alt="오사키역 버스 터미널" />
                <span>오사키역 버스터미널</span>
              </a>
            </div>
          </section>

          <section class="plan-block">
            <h3>11:30 | 나리타 공항 도착</h3>
            <p>내용 : 식사 및 출국</p>
            <div class="spot-list">
              <a class="spot" href="https://www.google.com/search?tbm=isch&q=Narita+Airport+Terminal" target="_blank" rel="noopener noreferrer">
                <img src="https://picsum.photos/seed/narita-terminal/180/110" alt="나리타 공항 터미널" />
                <span>나리타 공항</span>
              </a>
            </div>
          </section>
          </div>
          <div class="day-subpanel" data-subpanel="cost">
            <section class="plan-block cost-panel">
              <h3>[5 일차 1인 예상 경비 : 약 2,000엔]</h3>
              <p>공항 식사비 2,000엔</p>
            </section>
          </div>
        </article>
      </section>

      <section class="section split reveal">
        <article class="panel">
          <div class="budget-head">
            <h2>Budget</h2>
            <div class="total-budget">
              <p class="total-budget-label">총 예산 (2인, 4박 5일)</p>
              <p class="total-budget-value">2,000,000원</p>
            </div>
          </div>
          <dl>
            <div><dt>숙박비</dt><dd>600,000원</dd></div>
            <div><dt>항공비</dt><dd>600,000원</dd></div>
            <div class="travel-expense-row">
              <div class="travel-expense-main">
                <dt>여행경비</dt><dd>500,000원</dd>
              </div>
              <p class="travel-expense-sub">1인 현지 예상 약 250,000원 (약 26,500엔) × 2인</p>
              <p class="travel-expense-sub">교통비(약 3,500엔) + 식비/카페(약 22,000엔) + 입장료(약 1,000엔)</p>
            </div>
            <div><dt>한국 사전 결제</dt><dd>100,000원</dd></div>
            <div><dt>쇼핑 등 기타 비용</dt><dd>200,000원</dd></div>
          </dl>
        </article>

        <article class="panel">
          <h2>Pre-booking notes</h2>

          <details class="note-block">
            <summary>선물 준비</summary>
            <ul>
              <li>선물 미리 준비해가기</li>
              <li>미유 어머니 + 할머니</li>
            </ul>
          </details>

          <details class="note-block">
            <summary>윌러 익스프레스 (공항 리무진 버스)</summary>
            <ul>
              <li>보통 탑승 3개월 전부터 오픈 (지금부터 수시로 확인 가능)</li>
              <li>윌러 익스프레스 한국어 공식 홈페이지에서 예약</li>
              <li>비행기 도착 시간(12:00) 고려해 13:00~13:30 출발편 예매 권장</li>
              <li>비행기 연착으로 못 타면 현장 카운터에서 시간 변경 요청 가능</li>
              <li>편도 약 1,300엔 x 왕복(2) x 2명 = 5,200엔</li>
            </ul>
          </details>

          <details class="note-block">
            <summary>시부야 스카이 (전망대)</summary>
            <ul>
              <li>방문일 4주 전(28일 전) 자정 예약창 오픈</li>
              <li>방문 예정일: 6월 8일(월) / 예약 오픈일: 5월 11일(월) 00:00</li>
              <li>클룩(Klook), kkday 또는 공식 홈페이지에서 원화 결제 가능</li>
              <li>일몰 시간 18:00~18:30 타임은 오픈 직후 매진되므로 5월 10일 23:55부터 대기 권장</li>
              <li>2,500엔 x 2인 = 5,000엔</li>
            </ul>
          </details>

          <details class="note-block">
            <summary>Suica 스이카 (교통카드)</summary>
            <ul>
              <li>4박 5일 기준, 1인당 5,000엔 충전 (현금만 가능)</li>
              <li>잔액은 편의점에서도 사용 가능</li>
              <li>나리타 공항 지하 1층 'JR 동일본 여행 서비스 센터' 또는 '웰컴 스이카 전용 발매기(빨간색)'</li>
              <li>JR 야마노테선(초록색) 중심 이동, 나카메구로 환승 구간 유의</li>
            </ul>
          </details>
        </article>
      </section>
    </main>

    <footer class="section footer reveal">
      <p>Tokyo Family Trip Plan • Built from your PDF itinerary</p>
    </footer>

    <script>
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) entry.target.classList.add('visible');
          });
        },
        { threshold: 0.15 }
      );
      document.querySelectorAll('.reveal').forEach((el) => observer.observe(el));

      const tabs = document.querySelectorAll('.day-tab');
      const panels = document.querySelectorAll('.tab-panel');
      tabs.forEach((tab) => {
        tab.addEventListener('click', () => {
          tabs.forEach((btn) => {
            btn.classList.remove('active');
            btn.setAttribute('aria-selected', 'false');
          });
          panels.forEach((panel) => panel.classList.remove('active'));
          tab.classList.add('active');
          tab.setAttribute('aria-selected', 'true');
          const target = document.getElementById(tab.dataset.tab);
          if (target) target.classList.add('active');
        });
      });

      document.querySelectorAll('.tab-panel').forEach((dayPanel) => {
        const subTabs = dayPanel.querySelectorAll('.day-subtab');
        const subPanels = dayPanel.querySelectorAll('.day-subpanel');
        subTabs.forEach((subTab) => {
          subTab.addEventListener('click', () => {
            subTabs.forEach((btn) => {
              btn.classList.remove('active');
              btn.setAttribute('aria-selected', 'false');
            });
            subPanels.forEach((panel) => panel.classList.remove('active'));
            subTab.classList.add('active');
            subTab.setAttribute('aria-selected', 'true');
            const target = dayPanel.querySelector(`[data-subpanel=\"${subTab.dataset.subtab}\"]`);
            if (target) target.classList.add('active');
          });
        });
      });

      const parseSpotQuery = (img) => {
        const a = img.closest('a.spot');
        if (!a) return img.alt || '';
        try {
          const u = new URL(a.href);
          const q = (u.searchParams.get('q') || '').replace(/\+/g, ' ').trim();
          return q || img.alt || '';
        } catch {
          return img.alt || '';
        }
      };

      const rewireSpotLinksToMaps = () => {
        document.querySelectorAll('a.spot').forEach((a) => {
          try {
            const u = new URL(a.href);
            const q = (u.searchParams.get('q') || '').replace(/\+/g, ' ').trim();
            const query = q || a.textContent.trim();
            if (!query) return;
            a.href = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(query)}`;
          } catch {
            const query = a.textContent.trim();
            if (!query) return;
            a.href = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(query)}`;
          }
        });
      };

      const scoreTitle = (title, query) => {
        const t = (title || '').toLowerCase();
        const tokens = (query || '')
          .toLowerCase()
          .split(/[^a-z0-9]+/)
          .filter((x) => x.length > 2);
        let score = 0;
        tokens.forEach((tok) => {
          if (t.includes(tok)) score += 2;
        });
        if (t.includes('station') && query.toLowerCase().includes('station')) score += 1;
        if (t.includes('tokyo') && query.toLowerCase().includes('tokyo')) score += 1;
        return score;
      };

      const commonsCache = new Map();
      const fallbackFromQuery = (query) =>
        `https://picsum.photos/seed/${encodeURIComponent((query || 'tokyo-spot').toLowerCase())}/360/220`;

      const fetchVerifiedCommonsImage = async (query) => {
        if (!query) return null;
        if (commonsCache.has(query)) return commonsCache.get(query);

        const url =
          'https://commons.wikimedia.org/w/api.php?' +
          new URLSearchParams({
            action: 'query',
            format: 'json',
            origin: '*',
            generator: 'search',
            gsrsearch: query,
            gsrlimit: '10',
            gsrnamespace: '6',
            prop: 'imageinfo',
            iiprop: 'url|mime',
            iiurlwidth: '360',
          }).toString();

        try {
          const res = await fetch(url);
          const data = await res.json();
          const pages = data?.query?.pages ? Object.values(data.query.pages) : [];
          const candidates = pages
            .map((p) => {
              const ii = p?.imageinfo?.[0];
              if (!ii || !(ii.mime || '').startsWith('image/')) return null;
              return {
                title: p.title || '',
                src: ii.thumburl || ii.url,
                score: scoreTitle(p.title || '', query),
              };
            })
            .filter(Boolean)
            .sort((a, b) => b.score - a.score);

          const picked = candidates[0]?.src || null;
          commonsCache.set(query, picked);
          return picked;
        } catch {
          commonsCache.set(query, null);
          return null;
        }
      };

      const hydrateSpotImages = async () => {
        const imgs = Array.from(document.querySelectorAll('.spot img'));
        for (const img of imgs) {
          if (img.dataset.fixed === 'true') continue;
          const query = parseSpotQuery(img);
          img.dataset.query = query;
          const src = await fetchVerifiedCommonsImage(query);
          if (src) {
            img.src = src;
          } else {
            img.src = fallbackFromQuery(query || img.alt || 'tokyo-spot');
          }
        }
      };

      rewireSpotLinksToMaps();
      hydrateSpotImages();

      // Commons 이미지가 막히거나 실패하면 장소 키워드 기반 fallback으로 재시도
      document.querySelectorAll('.spot img').forEach((img) => {
        img.addEventListener('error', () => {
          const query = img.dataset.query || parseSpotQuery(img) || img.alt || 'tokyo-spot';
          const next = fallbackFromQuery(query);
          if (img.src !== next) {
            img.src = next;
            return;
          }
          img.src = 'https://picsum.photos/seed/tokyo-backup/360/220';
        });
      });

      const escapeHtml = (s) =>
        s.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');

      document.querySelectorAll('.day-subpanel[data-subpanel="plan"] .plan-block').forEach((block) => {
        const nodes = Array.from(block.children);
        nodes.forEach((node) => {
          if (node.tagName !== 'P') return;
          const raw = (node.textContent || '').trim();

          // case 0) "17:30 숙소 복귀 ..." 같은 시간 시작 문장
          const timeLine = raw.match(/^(\d{1,2}:\d{2})\s+(.+)$/);
          if (timeLine) {
            node.classList.add('kv-row');
            node.innerHTML = `<span class="kv-key">${escapeHtml(timeLine[1])}</span><span class="kv-value">${escapeHtml(timeLine[2])}</span>`;
            return;
          }

          if (!raw.includes(':')) return;

          const m = raw.match(/^([^:]+)\s*:\s*(.*)$/);
          if (!m) return;

          const key = m[1].trim();
          const inlineValue = (m[2] || '').trim();
          if (/^\d+$/.test(key)) return;
          if (!key) return;

          const next = node.nextElementSibling;

          // case 1) "라벨: 값" 한 줄
          if (inlineValue) {
            node.classList.add('kv-row');
            node.innerHTML = `<span class="kv-key">${escapeHtml(key)}</span><span class="kv-value">${escapeHtml(inlineValue)}</span>`;
            return;
          }

          // case 2) "라벨:" 다음 줄이 p 값
          if (next && next.tagName === 'P') {
            const nextRaw = (next.textContent || '').trim();
            const isNextLabel = /^([^:]+)\s*:/.test(nextRaw);
            if (nextRaw && !isNextLabel) {
              node.classList.add('kv-row');
              node.innerHTML = `<span class="kv-key">${escapeHtml(key)}</span><span class="kv-value">${escapeHtml(nextRaw)}</span>`;
              next.remove();
              return;
            }
          }

          // case 3) "라벨:" 다음이 목록(ul/ol)
          if (next && (next.tagName === 'UL' || next.tagName === 'OL')) {
            node.classList.add('kv-row');
            node.innerHTML = `<span class="kv-key">${escapeHtml(key)}</span><span class="kv-value"></span>`;
            next.classList.add('kv-follow-list');
            return;
          }

          // fallback: 라벨만 있는 줄도 정렬 유지
          node.classList.add('kv-row');
          node.innerHTML = `<span class="kv-key">${escapeHtml(key)}</span><span class="kv-value"></span>`;
        });

        // kv-row 바로 다음 보조 문장도 우측 컬럼 정렬로 맞춤
        let inKvContinuation = false;
        Array.from(block.children).forEach((child) => {
          if (child.tagName === 'P' && child.classList.contains('kv-row')) {
            inKvContinuation = true;
            return;
          }
          if (child.tagName === 'P') {
            const raw = (child.textContent || '').trim();
            const isTimeStart = /^\d{1,2}:\d{2}/.test(raw);
            const isLabel = /^([^:]+)\s*:/.test(raw) && !isTimeStart;
            if (inKvContinuation && raw && !isLabel) {
              child.classList.add('kv-cont');
              return;
            }
            inKvContinuation = false;
            return;
          }
          if (child.tagName === 'UL' || child.tagName === 'OL') {
            inKvContinuation = false;
            return;
          }
          inKvContinuation = false;
        });
      });

    </script>
  </body>
</html>
